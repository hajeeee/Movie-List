const data = {
    "movie": [
        {
            "judul":"The Shawshank Redemption ",
            "rating":10,
            "src-img": "./image/shawshank-redemption.jpg",
            "deskripsi": {
                "mv-name": "The Shawshank Redemption",
                "mv-year": "1994",
                "mv-genre": "Drama / Action / Crime",
                "mv-sinopsis": "Chronicles the experiences of a formerly successful banker as a prisoner in the gloomy jailhouse of Shawshank after being found guilty of a crime he did not commit. The film portrays the man's unique way of dealing with his new, torturous life; along the way he befriends a number of fellow prisoners, most notably a wise long-term inmate named Red.",
                "mv-actor1": "Tim Robbins as <b style='color: white;'>Andy Dufresne</b>",
                "mv-actor2": "Morgan Freeman as <b style='color: white;'>Ellis Boyd 'Red' Redding</b>",
                "mv-actor3": "Clancy Brown as <b style='color: white;'>Captain Hadley</b>",
                "mv-actor4": "William Sadler as <b style='color: white;'>Heywood</b>"
            }
        },
        {
            "judul":"Fantastic Beast: The Crimes of Grindelwald ",
            "rating":9,
            "src-img": "./image/crimes-of-grindelwald.jpg",
            "deskripsi": {
                "mv-name": "Fantastic Beast : The Crimes of Grindelwald",
                "mv-year": "2018",
                "mv-genre": "Fantasy / Action / Adventure / Family",
                "mv-sinopsis": "In an effort to thwart Grindelwald's plans of raising pure-blood wizards to rule over all non-magical beings, Albus Dumbledore enlists his former student Newt Scamander, who agrees to help, though he's unaware of the dangers that lie ahead. Lines are drawn as love and loyalty are tested, even among the truest friends and family, in an increasingly divided wizarding world.",
                "mv-actor1": "Johnny Depp as <b style='color: white;'>Gellert Grindelwald</b>",
                "mv-actor2": "Eddie Redmayne as <b style='color: white;'>Newt Scamander</b>",
                "mv-actor3": "Ezra Miller as <b style='color: white;'>Credence Barebone</b>",
                "mv-actor4": "Jude Law as <b style='color: white;'>Albus Dumbledore</b>"
            }
        },
        {
            "judul":"The Legend of 1900 ",
            "rating":9.5,
            "src-img": "./image/legend-of-1900.jpg",
            "deskripsi": {
                "mv-name": "The Legend of 1900",
                "mv-year": "1998",
                "mv-genre": "Drama / Music / Romance",
                "mv-sinopsis": "1900. Danny Boodmann, a stoker on an American passenger liner, Virginian, finds a baby abandoned on the ship. He names the child Danny Boodmann T.D. Lemon Nineteen Hundred '1900' and raises the child as his own until his death in an accident on the ship. The child never leaves the ship and turns out to be a musical genius, especially when it comes to playing the piano. As an adult he befriends a trumpet player in the ship's band, Max Tooney. After several years on the ship Max leaves, and tells the story of 1900 to the owner of a music store.",
                "mv-actor1": "Tim Roth as <b style='color: white;'>1900</b>",
                "mv-actor2": "Pruitt Taylor Vince as <b style='color: white;'>Max Tooney</b>",
                "mv-actor3": "Mélanie Thierry as <b style='color: white;'>The Girl</b>",
                "mv-actor4": "Bill Nunn as <b style='color: white;'>Danny</b>"
            }
        },
        {
            "judul":"The Perks of Being a Wallflower ",
            "rating":8.7,
            "src-img": "./image/perks-of-being-a-wallflower.jpg",
            "deskripsi": {
                "mv-name": "The Perks of Being a Wallflower",
                "mv-year": "2012",
                "mv-genre": "Drama / Action / Romance",
                "mv-sinopsis": "Based on the novel written by Stephen Chbosky, this is about 15-year-old Charlie (Logan Lerman), an endearing and naive outsider, coping with first love (Emma Watson), the suicide of his best friend, and his own mental illness while struggling to find a group of people with whom he belongs. The introvert freshman is taken under the wings of two seniors, Sam and Patrick, who welcome him to the real world.",
                "mv-actor1": "Logan Lerman as <b style='color: white;'>Charlie Kelmeckis</b>",
                "mv-actor2": "Emma Watson as <b style='color: white;'>Samantha 'Sam' Button</b>",
                "mv-actor3": "Ezra Miller as <b style='color: white;'>Patrick Stewart</b>",
                "mv-actor4": "Mae Whitman as <b style='color: white;'>Mary Elizabeth</b>"
            }
        },
        {
            "judul":"The Dark Knight Rises ",
            "rating":8.8,
            "src-img": "./image/dark-knight-rises.jpg",
            "deskripsi": {
                "mv-name": "The Dark Knight Rises",
                "mv-year": "2012",
                "mv-genre": "Action / Adventure / Drama / Fantasy / Sci-Fi / Thriller",
                "mv-sinopsis": "Despite his tarnished reputation after the events of The Dark Knight (2008), in which he took the rap for Dent's crimes, Batman feels compelled to intervene to assist the city and its Police force, which is struggling to cope with Bane's plans to destroy the city.",
                "mv-actor1": "Christian Bale as <b style='color: white;'>Bruce Wayne / Batman</b>",
                "mv-actor2": "Michael Caine as <b style='color: white;'>Alfred Pennyworth </b>",
                "mv-actor3": "Tom Hardy as <b style='color: white;'>Bane </b>",
                "mv-actor4": "Gary Oldman as <b style='color: white;'>James Gordon </b>"
            }
        },
        {
            "judul":"The Dark Knight ",
            "rating":10,
            "src-img": "./image/dark-knight.jpg",
            "deskripsi": {
                "mv-name": "The Dark Knight",
                "mv-year": "2008",
                "mv-genre": "Action / Adventure / Crime / Drama / Thriller",
                "mv-sinopsis": "Set within a year after the events of Batman Begins (2005), Batman, Lieutenant James Gordon, and new District Attorney Harvey Dent successfully begin to round up the criminals that plague Gotham City, until a mysterious and sadistic criminal mastermind known only as 'The Joker' appears in Gotham, creating a new wave of chaos. Batman's struggle against The Joker becomes deeply personal, forcing him to 'confront everything he believes' and improve his technology to stop him. A love triangle develops between Bruce Wayne, Dent, and Rachel Dawes.",
                "mv-actor1": "Christian Bale as <b style='color: white;'>Bruce Wayne / Batman </b>",
                "mv-actor2": "Michael Caine as <b style='color: white;'>Alfred Pennyworth </b>",
                "mv-actor3": "Heath Ledger as <b style='color: white;'>Joker </b>",
                "mv-actor4": "Aaron Eckhart  as <b style='color: white;'>Harvey Dent </b>"
            }
        },
        {
            "judul":"Forrest Gump ",
            "rating":9.1,
            "src-img": "./image/forrest-gump.jpg",
            "deskripsi": {
                "mv-name": "Forrest Gump",
                "mv-year": "1994",
                "mv-genre": "Drama / Action / Comedy / Romance",
                "mv-sinopsis": "Forrest Gump is a simple man with a low I.Q. but good intentions. He is running through childhood with his best and only friend Jenny. His 'mama' teaches him the ways of life and leaves him to choose his destiny. Forrest joins the army for service in Vietnam, finding new friends called Dan and Bubba, he wins medals, creates a famous shrimp fishing fleet, inspires people to jog, starts a ping-pong craze, creates the smiley, writes bumper stickers and songs, donates to people and meets the president several times. However, this is all irrelevant to Forrest who can only think of his childhood sweetheart Jenny Curran, who has messed up her life. Although in the end all he wants to prove is that anyone can love anyone.",
                "mv-actor1": "Tom Hanks  as <b style='color: white;'> Forrest Gump </b>",
                "mv-actor2": "Robin Wright as <b style='color: white;'>Jenny Curran </b>",
                "mv-actor3": "Gary Sinise as <b style='color: white;'>Lieutenant Dan Taylor </b>",
                "mv-actor4": "Mykelti Williamson as <b style='color: white;'>Benjamin Buford 'Bubba' Blue </b>"
            }
        },
        {
            "judul":"Schindler's List ",
            "rating":9.8,
            "src-img": "./image/schindler-list.jpg",
            "deskripsi": {
                "mv-name": "Schindler's List",
                "mv-year": "1993",
                "mv-genre": "Biography / Drama / History / Action",
                "mv-sinopsis": "Oskar Schindler is a vain and greedy German businessman who becomes an unlikely humanitarian amid the barbaric German Nazi reign when he feels compelled to turn his factory into a refuge for Jews. Based on the true story of Oskar Schindler who managed to save about 1100 Jews from being gassed at the Auschwitz concentration camp, it is a testament to the good in all of us.",
                "mv-actor1": "Liam Neeson as <b style='color: white;'>Oskar Schindler </b>",
                "mv-actor2": "Ben Kingsley as <b style='color: white;'>Itzhak Stern </b>",
                "mv-actor3": "Ralph Fiennes as <b style='color: white;'>Amon Göth </b>",
                "mv-actor4": "Caroline Goodall as <b style='color: white;'>Emilie Schindler </b>"
            }
        },
        {
            "judul":"Me Before You ",
            "rating":8.8,
            "src-img": "./image/me-before-you.jpg",
            "deskripsi": {
                "mv-name": "Me Before You",
                "mv-year": "2016",
                "mv-genre": "Romance / Action / Drama",
                "mv-sinopsis": "Lou Clark knows lots of things. She knows how many footsteps there are between the bus stop and home. She knows she likes working in The Buttered Bun tea shop and she knows she might not love her boyfriend Patrick. What Lou doesn't know is she's about to lose her job or that knowing what's coming is what keeps her sane. Will Traynor knows a road accident took away his desire to live. He knows everything feels very small and rather joyless now and he knows exactly how he's going to put a stop to that. What Will doesn't know is that Lou is about to burst into his world in a riot of color. And neither of them knows they're going to change each other for all time.",
                "mv-actor1": "Emilia Clarke as <b style='color: white;'>Louisa 'Lou' Clark </b>",
                "mv-actor2": "Sam Claflin as <b style='color: white;'>William 'Will' Traynor </b>",
                "mv-actor3": "Janet McTeer as <b style='color: white;'>Camilla Traynor </b>",
                "mv-actor4": "Steve Peacocke as <b style='color: white;'>Nathan </b>"
            }
        },
        {
            "judul":"Maze Runner: The Death Cure ",
            "rating":8.5,
            "src-img": "./image/maze-runner-3.jpg",
            "deskripsi": {
                "mv-name": "Maze Runner: The Death Cure",
                "mv-year": "2018",
                "mv-genre": "Sci-Fi / Action / Adventure / Thriller",
                "mv-sinopsis": "In the epic finale to The Maze Runner Saga, Thomas leads his group of escaped Gladers on their final and most dangerous mission yet. To save their friends, they must break into the legendary last city, a WCKD controlled labyrinth that may turn out to be the deadliest maze of all. Anyone who makes it out alive will get the answers to the questions the Gladers have been asking since they first arrived in the maze. Will Thomas and the crew make it out alive? Or will Ava Paige get her way?",
                "mv-actor1": "Dylan O'Brien as <b style='color: white;'>Thomas </b>",
                "mv-actor2": "Kaya Scodelario as <b style='color: white;'>Teresa </b>",
                "mv-actor3": "Thomas Brodie-Sangster as <b style='color: white;'>Newt </b>",
                "mv-actor4": "Ki Hong Lee as <b style='color: white;'>Minho </b>"
            }
        },
        {
            "judul":"Pirates of the Caribbean: At World's End ",
            "rating":8.9,
            "src-img": "./image/pirates-of-the-caribbean-3.jpg",
            "deskripsi": {
                "mv-name": "Pirates of the Caribbean: At World's End",
                "mv-year": "2007",
                "mv-genre": "Fantasy / Action / Adventure / Family",
                "mv-sinopsis": "After Elizabeth, Will, and Captain Barbossa rescue Captain Jack Sparrow from the land of the dead, they must face their foes, Davy Jones and Lord Cutler Beckett. Beckett, now with control of Jones' heart, forms a dark alliance with him in order to rule the seas and wipe out the last of the Pirates. Now, Jack, Barbossa, Will, Elizabeth, Tia Dalma, and crew must call the Pirate Lords from the four corners of the globe, including the infamous Sao Feng, to gathering. The Pirate Lords want to release the goddess Calypso, Davy Jones's damned lover, from the trap they sent her to out of fear, in which the Pirate Lords must combine the 9 pieces that bound her by ritual to undo it and release her in hopes that she will help them fight. With this, all pirates will stand together and will make their final stand for freedom against Beckett, Jones, Norrington, the Flying Dutchman, and the entire East India Trading Company.",
                "mv-actor1": "Johnny Depp as <b style='color: white;'>Jack Sparrow </b>",
                "mv-actor2": "Orlando Bloom as <b style='color: white;'>Will Turner </b>",
                "mv-actor3": "Keira Knightley as <b style='color: white;'> Elizabeth Swann </b>",
                "mv-actor4": "Bill Nighy as <b style='color: white;'>Davy Jones </b>"
            }
        },
        {
            "judul":"Star Wars: Episode V - The Empire Strikes Back ",
            "rating":8.9,
            "src-img": "./image/star-wars-5.jpg",
            "deskripsi": {
                "mv-name": "Star Wars: Episode V - The Empire Strikes Back",
                "mv-year": "1980",
                "mv-genre": "Sci-Fi / Action / Adventure / Fantasy",
                "mv-sinopsis": "Luke Skywalker, Han Solo, Princess Leia and Chewbacca face attack by the Imperial forces and its AT-AT walkers on the ice planet Hoth. While Han and Leia escape in the Millennium Falcon, Luke travels to Dagobah in search of Yoda. Only with the Jedi Master's help will Luke survive when the Dark Side of the Force beckons him into the ultimate duel with Darth Vader.",
                "mv-actor1": "Mark Hamill as <b style='color: white;'>Luke Skywalker </b>",
                "mv-actor2": "Harrison Ford as <b style='color: white;'>Han Solo </b>",
                "mv-actor3": "Carrie Fisher as <b style='color: white;'>Leia Organa </b>",
                "mv-actor4": "David Prowse as <b style='color: white;'>Darth Vader </b>"
            }
        },
        {
            "judul":"The Hunger Games: Catching Fire ",
            "rating":8.4,
            "src-img": "./image/the-hunger-games-catching-fire.jpg",
            "deskripsi": {
                "mv-name": "The Hunger Games: Catching Fire",
                "mv-year": "2013",
                "mv-genre": "Sci-Fi / Action / Adventure / Mystery / Thriller",
                "mv-sinopsis": "Twelve months after winning the 74th Hunger Games, Katniss Everdeen and her partner Peeta Mellark must go on what is known as the Victor's Tour, wherein they visit all the districts, but before leaving, Katniss is visited by President Snow who fears that Katniss defied him a year ago during the games when she chose to die with Peeta. With both Katniss and Peeta declared the winners, it is fueling a possible uprising. He tells Katniss that while on tour she better try to make sure that she puts out the flames or else everyone she cares about will be in danger.",
                "mv-actor1": "Jennifer Lawrence as <b style='color: white;'>Katniss Everdeen </b>",
                "mv-actor2": "Josh Hutcherson as <b style='color: white;'>Peeta Mellark </b>",
                "mv-actor3": "Woody Harrelson as <b style='color: white;'>Haymitch Abernathy </b>",
                "mv-actor4": "Sam Claflin as <b style='color: white;'>Finnick Odair </b>"
            }
        },
        {
            "judul":"The Last: Naruto the Movie",
            "rating":7.9,
            "src-img": "./image/The-Last-Naruto-the-Movie.jpg",
            "deskripsi": {
                "mv-name": "The Last: Naruto the Movie",
                "mv-year": "2014",
                "mv-genre": "Action / Adventure / Animation / Comedy / Romance",
                "mv-sinopsis": "Hanabi Hyuuga, the younger sister of Hinata is kidnapped by Toneri Ootsutsuki, and a disheartened Naruto Uzumaki must put himself together to help his new found love save her younger sister. Naruto's abilities are put to the test when he loses his most powerful form - the Sage of Six Paths cloak.",
                "mv-actor1": "Junko Takeuchi as <b style='color: white;'>Naruto Uzumaki</b>",
                "mv-actor2": "Nana Mizuki as <b style='color: white;'>Hinata Hyuuga</b>",
                "mv-actor3": "Jun Fukuyama as <b style='color: white;'>Toneri Otsutsuki</b>",
                "mv-actor4": "Chie Nakamura as <b style='color: white;'>Sakura Haruno</b>"
            }
        },
        {
            "judul":"One Piece: Stampede",
            "rating":7.8,
            "src-img": "./image/One-Piece-Stampede.jpg",
            "deskripsi": {
                "mv-name": "One Piece: Stampede",
                "mv-year": "2019",
                "mv-genre": "Action / Adventure / Animation / Family / Fantasy",
                "mv-sinopsis": "Pirates from around the world gather at the Pirates Expo to join the hunt for Gol D. Roger's lost treasure.",
                "mv-actor1": "Mayumi Tanaka as <b style='color: white;'>Monkey D. Luffy</b>",
                "mv-actor2": "Kazuya Nakai as <b style='color: white;'>Roronoa Zoro</b>",
                "mv-actor3": "Akemi Okamura as <b style='color: white;'>Nami</b>",
                "mv-actor4": "Kappei Yamaguchi as <b style='color: white;'>Usopp</b>"
            }
        },
        {
            "judul":"Harry Potter and the Prisoner of Azkaban",
            "rating":9.2,
            "src-img": "./image/Harry-Potter-and-the-Prisoner-of-Azkaban.jpg",
            "deskripsi": {
                "mv-name": "Harry Potter and the Prisoner of Azkaban",
                "mv-year": "2004",
                "mv-genre": "Fantasy / Action / Adventure / Family / Mystery",
                "mv-sinopsis": "Harry Potter (Daniel Radcliffe) is having a tough time with his relatives (yet again). He runs away after using magic to inflate Uncle Vernon's (Richard Griffiths') sister Marge (Pam Ferris), who was being offensive towards Harry's parents. Initially scared for using magic outside the school, he is pleasantly surprised that he won't be penalized after all. However, he soon learns that a dangerous criminal and Voldemort's trusted aide Sirius Black (Gary Oldman) has escaped from Azkaban Prison and wants to kill Harry to avenge the Dark Lord. To worsen the conditions for Harry, vile creatures called Dementors are appointed to guard the school gates and inexplicably happen to have the most horrible effect on him. Little does Harry know that by the end of this year, many holes in his past (whatever he knows of it) will be filled up and he will have a clearer vision of what the future has in store.",
                "mv-actor1": "Daniel Radcliffe as <b style='color: white;'>Harry Potter</b>",
                "mv-actor2": "Rupert Grint as <b style='color: white;'>Ron Weasley</b>",
                "mv-actor3": "Emma Watson as <b style='color: white;'>Hermione Granger</b>",
                "mv-actor4": "Michael Gambon as <b style='color: white;'>Albus Dumbledore</b>"
            }
        }
    ]
};

/*************************** MAIN-PAGE ***************************/

const listMovie = () => {
    let listMovie = "";
    data.movie.map(data => {
        listMovie += `
        <div class="movie-item-style-1">
            <img src=${data["src-img"]} />
            <div class="judul">
                <a>
                    <div>${data.judul}</div>
                    <div><span style='color:gold'> &#9733;</span><div style="display:inline-block;">${data.rating}</div> / 10</div>
                    <div style="display:none;">${data.deskripsi["mv-year"]}</div>
                    <div style="display:none;">${data.deskripsi["mv-genre"]}</div>
                </a>
            </div>
        </div>
        `  
    })
    document.getElementById("movie-list").innerHTML = listMovie;
    indexing(document.querySelectorAll('.movie-item-style-1'))
    console.log(document.getElementById("movie-list").children[0].getElementsByClassName("judul")[0].children[0].children[1].children[1].innerText);
};

function indexing(movieItem) {
    movieItem.forEach((button, idx) => button.addEventListener('click', (e) => {
        window.open('sub-page.html').location.href = `sub-page.html?id=${idx}`;
    }))
}

function searchMovie(context, event) {
    let movieItems = document.getElementById("movie-list").children
    let searchTerms = context.value.split(" ")
    if (context.value != "") {
        displayBy()
        for (let index = 0; index < movieItems.length; index++) {
            const element = movieItems[index];
            let text = element.getElementsByClassName("judul")[0].children[0].children[0].innerText
            if (searchTerms.every(term => text.toLowerCase().includes(term.toLowerCase()))) {
                if(element.style.display == "block") {
                    element.style.display = "block"
                    console.log("b")
                }    
            } else {
                element.style.display = "none"
            }
        }
    } else {
        displayBy()
        console.log("a")
    }
}

function sortingBy() {
    let val = document.getElementById("sort-select").value;
    let movieList = document.getElementById("movie-list");
    if(val == "latest") {
        listMovie();
    } else if(val == "oldest") {
        listMovie();
        let movieItems = document.getElementById("movie-list").children
        for(let index = (movieItems.length-1); index >= 0; index--) {
            movieList.appendChild(movieItems[index]);
        }
    } else if(val == "name") {
        Array.from(movieList.children).sort(function(a,b) {
            return a.children[1].children[0].children[0].innerText.localeCompare(b.children[1].children[0].children[0].innerText);
        }).forEach((element) => {
            movieList.appendChild(element)
        });
    } else if(val == "rating") {
        Array.from(movieList.children).sort(function(a,b) {
            return b.children[1].children[0].children[1].children[1].innerText - a.children[1].children[0].children[1].children[1].innerText;
        }).forEach((element) => {
            movieList.appendChild(element)
        });
        console.log(movieList.children[0].children[1].children[0].children[1].children[1])
    } else if(val == "year") {
        Array.from(movieList.children).sort(function(a,b) {
            return b.children[1].children[0].children[2].innerText - a.children[1].children[0].children[2].innerText;
        }).forEach((element) => {
            movieList.appendChild(element)
        });
    }
}

function displayBy() {
    let movieList = document.getElementById("movie-list")
    let movieItems = document.getElementById("movie-list").children
    let rating = document.getElementById("rating-display").value
    let genre = document.getElementById("genre-display").value
    for (let index = 0; index < movieItems.length; index++) {
        let element = movieItems[index]
        let mv_genre = element.getElementsByClassName("judul")[0].children[0].children[3].innerText.split(" / ")
        if(element.getElementsByClassName("judul")[0].children[0].children[1].children[1].innerText >= Number(rating)) {
            if(genre == "All") {
                element.style.display = "block"
            } else {
                for (let idx = 0; idx < mv_genre.length; idx++) {
                
                    if(mv_genre[idx] == genre){
                        element.style.display = "block"
                        break;
                    } else {
                        element.style.display = "none"
                    }
                }
            }
        } else {
            element.style.display = "none"
        }
    }
}

function searchSubmit(context, event) {
    if(event.keyCode == 13) {
        sortingBy();
        displayBy();
        searchMovie(context, event)
    }
}

function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}



/*************************** SUB-PAGE ***************************/

const titleTop = (idx, data) => {
    return `${data.deskripsi["mv-name"]} (${data.deskripsi["mv-year"]})`
}

const listMovieDetail = (idx, data) => {
    return `
    <div class="left" >
        <div class="movie-item-style-2">
            <img src=${data["src-img"]} />
        </div>
        <div>
            <h1 style="width: 310pt;text-align: left;">${data.deskripsi["mv-name"]}</h1>
            <div>
                <h3>${data.deskripsi["mv-year"]}</h3>
                <h3 style="width: 310pt;text-align: left;">${data.deskripsi["mv-genre"]}</h3>
                <h3 style="margin-top: 20px;"><span style='color:gold'> &#9733;</span> ${data.rating} / 10</h3>
            </div>
        </div>
        <div style="margin-left:100px; margin-top:30px;">
            <h5>Similar Movie</h5>
            <div id="similar-movie" class="flex-similar">
            </div>
        </div>
    </div>
    <div class="left" >
        <div>
            <h2>Synopsis</h2>
            <p style="width: 100vh;">${data.deskripsi["mv-sinopsis"]}<p>
        </div>
        <div>
            <h2>Cast</h2>
            <p style="margin-bottom: 10px;">${data.deskripsi["mv-actor1"]}<p>
            <p style="margin-bottom: 10px;">${data.deskripsi["mv-actor2"]}<p>
            <p style="margin-bottom: 10px;">${data.deskripsi["mv-actor3"]}<p>
            <p style="margin-bottom: 10px;">${data.deskripsi["mv-actor4"]}<p>
        </div>
    </div>
    `
}

const similarMovie = (idx, genre, name) => {
    let similarMovie = "";
    data.movie.map(data => {
        similarMovie += `
        <div class="similar-movies-style">
            <img src=${data["src-img"]} title="${data.deskripsi["mv-name"]}"/>
            <div style="display:none;">${data.deskripsi["mv-genre"]}</div>
            <div style="display:none;">${data.deskripsi["mv-name"]}</div>
        </div>
        ` 
    })
    document.getElementById("similar-movie").innerHTML = similarMovie;
    indexing(document.querySelectorAll('.similar-movies-style'));

    let movieItems = document.getElementById("similar-movie").children
    let count_block = 0;
    let count_none = 0;
    for (let index = 0; index < movieItems.length; index++) {
        let element = movieItems[index];
        let mv_genre = element.children[1].innerText.split(" / ");
        let mv_name = element.children[2].innerText;
        for (let idx = 0; idx < mv_genre.length; idx++) {
            if(mv_genre[0] == genre[0] && count_block < 4 && mv_name != name) {
                element.style.display = "block";
                count_block += 1;
                break;
            } else {
                element.style.display = "none";
                count_none += 1;
            }
        }
    }
}

const main = () => {
    const id = Number(window.location.search.replace('?id=', ''));
    let genre = data.movie[id].deskripsi["mv-genre"].split(" / ");
    let name = data.movie[id].deskripsi["mv-name"];
    document.getElementById("title").innerHTML = titleTop(id, data.movie[id]);
    document.getElementById("sub-page").innerHTML = listMovieDetail(id, data.movie[id]);
    similarMovie(id, genre, name);
}